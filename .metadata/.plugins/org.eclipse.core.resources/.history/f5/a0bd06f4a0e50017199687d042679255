package homeAutomation;

import java.util.ArrayList;

public class Component {

  //  ATRIBUTES
  private String name = "";
  private boolean Status = false;

  // CONSTRUCTOR
  public Component(String name){
    this.name = name;
  }


  // METHODS
  public String getName(){
    return name;
  }
  public boolean getStatus(){
    return Status;
  }

  public String changeStatus(boolean status, ArrayList<Automation> automations, HAManager manager){
    this.Status = status;
    String triggeredAutomations = "--";
    for (Automation a: automations){ //search automations if this component and just changed status are the same as triggers
      if (a.getTriggerComp() == this && a.getTriggerStatus() == status){
        System.out.println("Component changed: " + this.name + ". Automation triggered: " + a.getName());
        triggeredAutomations += "\n" + a.triggerAutomation(automations); // set new responseStatus to responseComp of that automation and return the triggeredAutomation name
      }
    } //end second forloop
     return triggeredAutomations;
  }


}
